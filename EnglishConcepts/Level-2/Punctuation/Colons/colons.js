let colonsQuiz = [
  {
    question: `Which sentence correctly uses a colon to introduce a list?`,
    options: {
      A: "The recipe calls for the following ingredients: flour, sugar, eggs, and butter.",
      B: "The recipe calls for the following ingredients flour, sugar, eggs, and butter.",
      C: "The recipe calls: for the following ingredients, flour, sugar, eggs, and butter.",
      D: "The recipe calls for: the following ingredients flour, sugar, eggs, and butter.",
    },
    correctAnswer:
      "The recipe calls for the following ingredients: flour, sugar, eggs, and butter.",
    explanation: `A colon is used after a complete sentence to introduce a list.`,
  },
  {
    question: `Choose the sentence that correctly uses a colon to provide an explanation.`,
    options: {
      A: "She has only one hobby: painting.",
      B: "She has only one hobby painting:",
      C: "She has only one: hobby painting.",
      D: "She has only one hobby: painting it is her favorite pastime.",
    },
    correctAnswer: "She has only one hobby: painting.",
    explanation: `A colon introduces an explanation or elaboration after a complete sentence.`,
  },
  {
    question: `Which sentence uses a colon to introduce a list properly?`,
    options: {
      A: "To complete the project, you need the following: a laptop, software, and a reference book.",
      B: "To complete the project, you need the following a laptop, software, and a reference book.",
      C: "To complete the project you need: the following, a laptop, software, and a reference book.",
      D: "To complete the project you need the following: a laptop, software and a reference book.",
    },
    correctAnswer:
      "To complete the project, you need the following: a laptop, software, and a reference book.",
    explanation: `A colon introduces a list after a complete sentence.`,
  },
  {
    question: `Identify the correct use of a colon to provide additional information.`,
    options: {
      A: "Her decision was clear: she would not attend the meeting.",
      B: "Her decision was clear she: would not attend the meeting.",
      C: "Her decision was: clear she would not attend the meeting.",
      D: "Her decision was clear she would not attend: the meeting.",
    },
    correctAnswer: "Her decision was clear: she would not attend the meeting.",
    explanation: `A colon introduces additional information or clarification after a complete sentence.`,
  },
  {
    question: `Which sentence correctly uses a colon to introduce a list of items?`,
    options: {
      A: "The training includes: workshops, seminars, and online modules.",
      B: "The training includes workshops, seminars, and online modules.",
      C: "The training includes: workshops seminars, and online modules.",
      D: "The training includes workshops: seminars, and online modules.",
    },
    correctAnswer:
      "The training includes: workshops, seminars, and online modules.",
    explanation: `A colon is used after a complete sentence to introduce a list.`,
  },
  {
    question: `Choose the sentence that uses a colon to explain or elaborate on the preceding statement.`,
    options: {
      A: "There is one thing I cannot stand: dishonesty.",
      B: "There is one thing I cannot stand dishonesty:",
      C: "There is one thing: I cannot stand dishonesty.",
      D: "There is one thing I cannot stand: dishonesty is intolerable.",
    },
    correctAnswer: "There is one thing I cannot stand: dishonesty.",
    explanation: `A colon introduces an explanation or elaboration following a complete sentence.`,
  },
  {
    question: `Which sentence uses a colon correctly to introduce a list of related items?`,
    options: {
      A: "The conference will cover three main topics: technology, innovation, and sustainability.",
      B: "The conference will cover three main topics technology, innovation, and sustainability.",
      C: "The conference will cover: three main topics, technology, innovation, and sustainability.",
      D: "The conference will cover three main topics: technology innovation, and sustainability.",
    },
    correctAnswer:
      "The conference will cover three main topics: technology, innovation, and sustainability.",
    explanation: `A colon is used to introduce a list after a complete sentence.`,
  },
  {
    question: `Identify the correct use of a colon to introduce an explanation.`,
    options: {
      A: "I have an important announcement: the project deadline has been extended.",
      B: "I have an important announcement the: project deadline has been extended.",
      C: "I have an important: announcement the project deadline has been extended.",
      D: "I have an important announcement the project deadline: has been extended.",
    },
    correctAnswer:
      "I have an important announcement: the project deadline has been extended.",
    explanation: `A colon introduces an explanation or elaboration following a complete sentence.`,
  },
  {
    question: `Which sentence correctly uses a colon to introduce a list?`,
    options: {
      A: "You should prepare for the trip by packing the following: clothes, toiletries, and travel documents.",
      B: "You should prepare for the trip by packing the following clothes, toiletries, and travel documents.",
      C: "You should prepare for the trip: by packing the following clothes, toiletries, and travel documents.",
      D: "You should prepare for the trip by packing: the following clothes, toiletries, and travel documents.",
    },
    correctAnswer:
      "You should prepare for the trip by packing the following: clothes, toiletries, and travel documents.",
    explanation: `A colon introduces a list following a complete sentence.`,
  },
  {
    question: `Choose the sentence that uses a colon correctly to provide an explanation.`,
    options: {
      A: "My decision was simple: I wanted to stay home.",
      B: "My decision was simple I: wanted to stay home.",
      C: "My decision was: simple I wanted to stay home.",
      D: "My decision was simple I wanted to: stay home.",
    },
    correctAnswer: "My decision was simple: I wanted to stay home.",
    explanation: `A colon introduces an explanation or further detail following a complete sentence.`,
  },
  {
    question: `Which of these sentences uses a colon correctly to introduce a list?`,
    options: {
      A: "The committee includes several experts: a scientist, a historian, and a mathematician.",
      B: "The committee includes several experts a scientist, a historian, and a mathematician.",
      C: "The committee includes: several experts a scientist, a historian, and a mathematician.",
      D: "The committee includes several experts: a scientist a historian, and a mathematician.",
    },
    correctAnswer:
      "The committee includes several experts: a scientist, a historian, and a mathematician.",
    explanation: `A colon is used to introduce a list after a complete sentence.`,
  },
  {
    question: `Identify the sentence with correct colon usage to provide additional information.`,
    options: {
      A: "The reason for his absence was clear: he was ill.",
      B: "The reason for his absence was clear he: was ill.",
      C: "The reason for his absence was: clear he was ill.",
      D: "The reason for his absence was clear he was: ill.",
    },
    correctAnswer: "The reason for his absence was clear: he was ill.",
    explanation: `A colon introduces additional information or clarification following a complete sentence.`,
  },
  {
    question: `Which sentence correctly uses a colon to introduce a detailed explanation?`,
    options: {
      A: "The answer is simple: follow the instructions carefully and you will succeed.",
      B: "The answer is simple follow the: instructions carefully and you will succeed.",
      C: "The answer is: simple follow the instructions carefully and you will succeed.",
      D: "The answer is simple: follow the instructions, carefully, and you will succeed.",
    },
    correctAnswer:
      "The answer is simple: follow the instructions carefully and you will succeed.",
    explanation: `A colon introduces a detailed explanation or instruction following a complete sentence.`,
  },
  {
    question: `Identify the correct use of a colon to list items.`,
    options: {
      A: "The schedule includes: lectures, workshops, and networking events.",
      B: "The schedule includes lectures, workshops, and networking events.",
      C: "The schedule includes: lectures workshops, and networking events.",
      D: "The schedule includes lectures: workshops, and networking events.",
    },
    correctAnswer:
      "The schedule includes: lectures, workshops, and networking events.",
    explanation: `A colon is used to introduce a list after a complete sentence.`,
  },
  {
    question: `Which sentence correctly uses a colon to introduce an elaboration?`,
    options: {
      A: "The solution is simple: better planning and execution.",
      B: "The solution is simple better: planning and execution.",
      C: "The solution is: simple better planning and execution.",
      D: "The solution is simple better planning: and execution.",
    },
    correctAnswer: "The solution is simple: better planning and execution.",
    explanation: `A colon introduces an elaboration or further detail after a complete sentence.`,
  },
];

let quiz_container = document.getElementById("quizContainer");
let result_div = document.getElementById("result");
let result_container = document.getElementById("resultText"); // Correctly targets the #resultText element
let submit_quiz = document.getElementById("submit");
let reset_quiz = document.getElementById("reset");

// Shuffle function for randomizing questions
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

shuffle(colonsQuiz);

// Display questions dynamically
function display_questions() {
  colonsQuiz.forEach((element, index) => {
    let questionNumber = index + 1;
    let question_div = document.createElement("div");
    question_div.id = "questionsDiv";

    question_div.innerHTML = `<h2 id="questionNumberAndQuestion">${questionNumber}. ${element.question}</h2>`;

    quiz_container.appendChild(question_div);
    let options_div = document.createElement("div");
    options_div.id = "optionsDiv";

    for (const [key, value] of Object.entries(element.options)) {
      let options_inner_div = document.createElement("div");
      options_inner_div.id = "optionsInnerDiv";
      let radio_button = document.createElement("input");
      radio_button.type = "radio";
      radio_button.name = `question${index}`;
      radio_button.id = `radioButton-${index}-${key}`;
      radio_button.value = value;
      let label = document.createElement("label");
      label.textContent = `${key}: ${value}`;

      options_inner_div.appendChild(radio_button);
      question_div.appendChild(options_div);
      options_inner_div.appendChild(label);
      options_div.appendChild(options_inner_div);
    }
    let explanation = document.createElement("div");
    explanation.classList = "explanation";

    explanation.style.display = "none";
    question_div.appendChild(explanation);
  });
}
display_questions();

// Submit quiz and calculate score
submit_quiz.addEventListener("click", function () {
  let score = 0;
  let questions = colonsQuiz.length;
  result_container.innerHTML = ""; // Clear previous results

  colonsQuiz.forEach((element, index) => {
    let radio_button = document.querySelector(
      `input[name="question${index}"]:checked`
    );

    let explanation = document.querySelectorAll(".explanation")[index];
    explanation.style.display = "block";

    if (radio_button) {
      if (radio_button.value === element.correctAnswer) {
        score++;
        explanation.style.color = "green";
        explanation.innerHTML = `<p>Correct! - "${element.correctAnswer}" is the right answer</p><p>Explanation: ${element.explanation}</p>`;
      } else {
        explanation.style.color = "red";
        explanation.innerHTML = `<p>Incorrect! - "${element.correctAnswer}" is the right answer</p><p>Explanation: ${element.explanation}<p/>`;
      }
    } else {
      explanation.innerHTML = `<p>No Answer Selected</p><p>The correct answer is: ${element.correctAnswer}<p/><p>Explanation: ${element.explanation}</p>`;
    }
  });

  result_container.textContent = `Your score is: ${score} out of ${questions}`;
  result_div.style.display = "block"; // Ensure result div is displayed
});

// Reset quiz functionality
reset_quiz.addEventListener("click", function () {
  // Clear all radio button selections
  document.querySelectorAll("input[type=radio]").forEach((element) => {
    element.checked = false;
  });

  // Hide all explanations and clear their content
  document.querySelectorAll(".explanation").forEach((element) => {
    element.style.display = "none";
    element.innerHTML = "";
  });

  // Hide the result container and clear its content
  result_div.style.display = "none";
  result_container.innerHTML = ""; // Clear the result text content
});
